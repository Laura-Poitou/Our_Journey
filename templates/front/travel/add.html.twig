{% extends 'base.html.twig' %}

{% block body %}

    <section class="travel-add-form">
        <div class="card w-100 mb-3" id="card-container">
            <div class="card-body" id="card-body-container">
                <h1 class="card-title">Ajouter un voyage</h1>
                
                {# form options #}
                {{ form_start(form, {'attr': {'novalidate': 'novalidate', 'class': 'ma-classe'}}) }}

                    {{ form_row(form.title) }}
                    {{ form_row(form.startDate) }}
                    {{ form_row(form.endDate) }}
                    {{ form_row(form.description) }}
                    {{ form_row(form.picture) }}
                    {{ form_row(form.travelerNumber) }}

                    <h2 class="subForm-title">Voyageur(s)</h2>
                    <p>Pour ajouter des voyageurs au voyage : <br> Cliquez sur Ajouter un voyageur, indiquez son pr√©nom puis recommencez autant de fois qu'il le faut. <br></p>
                    
                    <ul class="travelers"
                    data-index="{{ form.travelers|length > 0 ? form.travelers|last.vars.name + 1 : 0 }}"
                    data-prototype="{{ form_widget(form.travelers.vars.prototype)|e('html_attr') }}"
                    >
                        {% for traveler in form.travelers %}
                            <li> {{ form_row(traveler.name) }} </li>
                        {% endfor %}
                    </ul>

                    <h2 class="subForm-title"> Destinations </h2>
                    <p>Pour ajouter des destinations (pays ou villes) au voyage : <br> Cliquez sur Ajouter une destination, indiquez son nom puis recommencez autant de fois qu'il le faut. <br></p>
                    <ul class="destinations"
                    data-index="{{ form.destinations|length > 0 ? form.destinations|last.vars.name + 1 : 0 }}"
                    data-prototype="{{ form_widget(form.destinations.vars.prototype)|e('html_attr') }}"
                    >
                        {% for destination in form.destinations %}
                            <li> {{ form_row(destination.name) }} </li>
                        {% endfor %}
                    </ul>

                    {# {{ form_row(form.userTravelers) }}               #}

                    {# {% include "back/countries.html.twig" %} #}

                    <button class="btn btn-custom" type="submit">Ajouter le voyage</button>
                    
                {{ form_end(form) }}

            </div>
        </div>
    </section>

{% endblock %}